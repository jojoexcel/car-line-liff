<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¬å‹™è»Šå€Ÿç”¨ç³»çµ± - ä¸»é¸å–®</title>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <!-- å…¨åŸŸè¼‰å…¥é®ç½©ï¼Œé›–ç„¶æ˜¯é»‘è‰²ä¸»é¡Œï¼Œä½† JS å¯èƒ½æœƒç”¨åˆ° -->
    <div id="loading-overlay"></div>

    <header class="header">
        <h1>å…¬å‹™è»Šå€Ÿç”¨ç³»çµ±</h1>
        <p id="welcome-message">è¼‰å…¥ä¸­...</p>
    </header>

    <main class="nav-menu">
        <!-- å·²å®Œæˆçš„åŠŸèƒ½ -->
        <a href="guide.html">â„¹ï¸ ä½¿ç”¨æŒ‡å—</a>
        <a href="profile.html">ğŸ“ å€‹äººè³‡æ–™</a>
        <a href="booking.html">ğŸ“… é ç´„å€Ÿè»Š</a>
        <a href="action.html">ğŸ”‘ é ˜è»Š / é‚„è»Š</a>
        <a href="status.html">ğŸ” æŸ¥è©¢æˆ‘çš„é ç´„</a>
        <a href="history.html">âœï¸ ä¿®æ”¹æ­·å²è¨˜éŒ„</a>
        <a href="upload.html">ğŸ“· æ‹ç…§ä¸Šå‚³</a>

        <!-- å°šæœªè£½ä½œçš„åŠŸèƒ½ï¼ŒåŠ ä¸Š 'disabled' class -->
        <a href="#" class="disabled" onclick="event.preventDefault(); alert('æ­¤åŠŸèƒ½å³å°‡æ¨å‡ºï¼');">ğŸ“Š å€‹äººçµ±è¨ˆ</a>
        <a id="admin-menu-button" href="admin.html" class="admin-link" style="display: none;">âš™ï¸ ç®¡ç†å“¡åŠŸèƒ½</a>
    </main>
    
    <footer class="footer">
        <p>Â© å°ä¸­å­¸é™¢-å…¬å‹™è»Šç®¡ç†</p>
    </footer>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script src="./js/main.js"></script>
    <script>
        // admin.html å°ˆç”¨çš„ JS
        async function initializeAdminPage() {
            const liffProfile = await initializeLiff();
            if (!liffProfile) return;

            try {
                const result = await callGasApi('getUserProfile', { userId: liffProfile.userId });
                const adminWelcome = document.getElementById('admin-welcome');
                const adminMenu = document.getElementById('admin-menu-container');

                if (result.status === 'found' && (result.data.status === 'ç®¡ç†è€…' || result.data.status === 'é–‹ç™¼è€…')) {
                    // æ¬Šé™é©—è­‰é€šé
                    adminWelcome.textContent = `æ¬Šé™å·²ç¢ºèªï¼Œ${result.data.name}ã€‚è«‹é¸æ“‡è¦åŸ·è¡Œçš„æ“ä½œã€‚`;
                    adminMenu.style.display = 'block';
                } else {
                    // æ¬Šé™ä¸è¶³
                    adminWelcome.style.color = 'var(--error-color)';
                    adminWelcome.textContent = 'æ¬Šé™ä¸è¶³ï¼æ­¤é é¢åƒ…ä¾›ç®¡ç†å“¡ä½¿ç”¨ã€‚';
                }
            } catch (error) {
                document.getElementById('admin-welcome').textContent = 'é©—è­‰æ¬Šé™æ™‚ç™¼ç”ŸéŒ¯èª¤ã€‚';
            }
        }
        initializeAdminPage();
    </script>
</body>
</html>
