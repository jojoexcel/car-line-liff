<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å…¬å‹™è»Šå€Ÿç”¨ç³»çµ± - ä¸»é¸å–®</title>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <!-- å…¨åŸŸè¼‰å…¥é®ç½©ï¼Œé›–ç„¶æ˜¯é»‘è‰²ä¸»é¡Œï¼Œä½† JS å¯èƒ½æœƒç”¨åˆ° -->
    <div id="loading-overlay"></div>

    <header class="header">
        <h1>å…¬å‹™è»Šå€Ÿç”¨ç³»çµ±</h1>
        <p id="welcome-message">è¼‰å…¥ä¸­...</p>
    </header>

    <main class="nav-menu">
        <!-- å·²å®Œæˆçš„åŠŸèƒ½ -->
        <a href="guide.html">â„¹ï¸ ä½¿ç”¨æŒ‡å—</a>
        <a href="profile.html">ğŸ“ å€‹äººè³‡æ–™</a>
        <a href="booking.html">ğŸ“… é ç´„å€Ÿè»Š</a>
        <a href="action.html">ğŸ”‘ é ˜è»Š / é‚„è»Š</a>
        <a href="status.html">ğŸ” æŸ¥è©¢æˆ‘çš„é ç´„</a>
        <a href="history.html">âœï¸ ä¿®æ”¹æ­·å²è¨˜éŒ„</a>
        <a href="upload.html">ğŸ“· æ‹ç…§ä¸Šå‚³</a>

        <!-- å°šæœªè£½ä½œçš„åŠŸèƒ½ï¼ŒåŠ ä¸Š 'disabled' class -->
        <a href="#" class="disabled" onclick="event.preventDefault(); alert('æ­¤åŠŸèƒ½å³å°‡æ¨å‡ºï¼');">ğŸ“Š å€‹äººçµ±è¨ˆ</a>
        <a id="admin-menu-button" href="admin.html" class="admin-link" style="display: none;">âš™ï¸ ç®¡ç†å“¡åŠŸèƒ½</a>
    </main>
    
    <footer class="footer">
        <p>Â© å°ä¸­å­¸é™¢-å…¬å‹™è»Šç®¡ç†</p>
    </footer>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
        // é€™å€‹é é¢çš„ JS é‚è¼¯å¾ˆå–®ç´”ï¼Œç›´æ¥å¯«åœ¨é€™è£¡å³å¯
        async function initializeIndexPage() {
            try {
                // ä½¿ç”¨æ‚¨å”¯ä¸€çš„ LIFF ID
                await liff.init({ liffId: '2007626718-yQALkZm8' });
                
                if (liff.isLoggedIn()) {
                    const profile = await liff.getProfile();
                    const welcomeEl = document.getElementById('welcome-message');
                    if (welcomeEl) {
                        welcomeEl.textContent = `æ­¡è¿ï¼Œ${profile.displayName}`;
                    }
                } else {
                    // å¦‚æœæ²’ç™»å…¥ï¼Œå°±å°å‘ç™»å…¥é ï¼Œè®“ä½¿ç”¨è€…å®Œæˆç™»å…¥å¾Œå†å›ä¾†
                    liff.login();
                }
            } catch (error) {
                console.error('LIFF initialization failed', error);
                const welcomeEl = document.getElementById('welcome-message');
                if (welcomeEl) {
                    welcomeEl.textContent = 'è¼‰å…¥å¤±æ•—ï¼Œè«‹é‡è©¦';
                }
            }
        }
        
        // åŸ·è¡Œåˆå§‹åŒ–
        initializeIndexPage();
    </script>
</body>
</html>
